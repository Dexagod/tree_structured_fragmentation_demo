<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="client.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="w3.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
        integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
        crossorigin="" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.2/leaflet.draw.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/leaflet.js" crossorigin=""></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/leaflet.css" crossorigin="">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.12/leaflet.draw.js" type="text/javascript"
        crossorigin=""></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/wicket/1.3.3/wicket.min.js" type="text/javascript"
        crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wicket/1.3.3/wicket-leaflet.min.js" type="text/javascript"
        crossorigin=""></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.0/MarkerCluster.css" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.0/MarkerCluster.Default.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.0/leaflet.markercluster.js"
        type="text/javascript" crossorigin=""></script>


    <link rel="stylesheet" href="highcharts.css">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/modules/histogram-bellcurve.js"></script>



    <script src="createCharts.js" charset="utf-8"></script>
    <script src="index.js" charset="utf-8"></script>
</head>

<body>



    <div class="w3-sidebar w3-bar-block w3-collapse w3-card" style="width:400px; z-index: 1000;" id="mySidebar">
        <div style="height:52px">
            <button type="button" id="closesidebarbutton" class="w3-button w3-xlarge" onclick="w3_close()">&#9776;</button>
            <!-- <button id="interruptbutton" class="w3-button w3-xlarge loader">No running querys</button> -->
            <!-- <div class="loadercontainer">
                <div class="loader" id="loader"></div>
            </div> -->
            <button type="button" id="interruptbutton" class="w3-button w3-xlarge loadercontainer">&#9746;</button>
            
        </div>
        <div class="slidecontainer">
            <div style="display: inline-block;">Number of results:</div> <div style="display: inline-block" id="rangevalue"></div>
            <input type="range" min="1" max="250" value="15" class="bigslider" id="rangeinput">
        </div>
        <p class="switchtitle">Fragmentation used</p>
        <div class="treetogglecontainer">
            <div id="btreeType" class='treetogglestyle'>B-tree</div>
            <div class='togglecontainerinner'>
                <label class="switch" >
                    <input id="treetoggle" type="checkbox">
                    <span class="slider round"></span>
                </label>
            </div>
            <div id="prefixType" class='treetogglestyle'>Prefix tree</div>
        </div>
        <p class="switchtitle">Fragment size</p>
        <div class="treetogglecontainer">
                <div id="25elements" class='treetogglestyle' style="padding-left: 25px;">25</div>
                <div class='togglecontainerinner'>
                    <label class="switch" >
                        <input id="fstoggle" type="checkbox">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div id="100elements" class='treetogglestyle'>100</div>
            </div>
        <p>Municipality: </p>
        <input class="w3-bar-item" style="border: 1px solid black" rows="1" id="municipalityInput"
            placeholder="municipality"></input>
        <p>Street:</p>
        <div style='margin: 0 auto;'>
            <input class="w3-bar-item" style="border: 1px solid black; display: inline-block; width: 70%; " rows="1"
                id="streetInput" placeholder="streetname"></input>
            <input class="w3-bar-item" style="border: 1px solid black; display: inline-block; width: 25%; " rows="1"
                id="addressNumberInput" placeholder="addr"></input>
        </div>

        <div class="w3-bar-item" style="padding:4px; position:relative;" id="autocomplete-items"></div>
    </div>



    <div class="w3-main" style="margin-left:0px; height:100vh">

        <div style="height: 70vh;">
            <button type="button" id="leftopen" style="z-index: 200;" class="w3-button w3-xlarge" onclick="w3_open()">&#9776;</button>
            <button type="button" id="rightopen" style="z-index: 200;" class="w3-button w3-xlarge" onclick="w3_open_right()">&#9783;</button>
            <div id="map"></div>
        </div>


        <div class="w3-bar-block w3-collapse w3-card" style="width:100%; z-index: 1000; height: 30vh;" id="mySidebarright" style="position: fixed!important; background-color: white;">
            <figure class="highcharts-figure">
                <div id="resultscontainer"></div>
            </figure>
            <div class="buttoncontainerrighttop">
                <button type="button" id = "closesidebarbuttonright" class="w3-button w3-xlarge" style="display: inline-block;" onclick="w3_close_right()">&#9783;</button>
                <button id="resetcharts" class="w3-button w3-xlarge loader" style="display: inline-block;">&#9746;</button>
            </div>
            
        </div>
    


    </div>
    <script>
        
        function w3_open() {
            document.getElementById("mySidebar").style.display = "block";
        }
        function w3_close() {
            console.log("closing")
            document.getElementById("mySidebar").style.display = "none";
        }

        function w3_open_right() {
            console.log("opening")
            document.getElementById("mySidebarright").style.display = "block";
            // let controls = document.getElementsByClassName("leaflet-right")
            // for (let control of controls){
            //     control.style["right"] = "400px";
            // }
            drawable = true;
        }
        function w3_close_right() {
            console.log("closing")
            resetCharts();
            console.log("closing")
            document.getElementById("mySidebarright").style.display = "none";
            drawable = false;
            // let controls = document.getElementsByClassName("leaflet-right")
            // for (let control of controls){
            //     control.style["right"] = "0px";
            // }
        }
    </script>




</body>

</html>